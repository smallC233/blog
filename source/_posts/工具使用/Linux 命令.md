---
title: Linux 命令
categories:
  - 计算机基础知识
  - Linux
---



# Linux 命令

## shell

| 命令          | 说明                                     |
| ------------- | ---------------------------------------- |
| `ls`          | 列出目录内容                             |
| `cd`          | 切换目录                                 |
| `pwd`         | 显示当前路径                             |
| `cp`          | 复制文件或目录                           |
| `mv`          | 移动或重命名文件/目录                    |
| `rm`          | 删除文件或目录，`-r` 可以递归删除目录    |
| `mkdir`       | 创建新目录                               |
| `rmdir`       | 删除空目录                               |
| `touch`       | 创建空文件                               |
| `cat`         | 显示文件内容                             |
| `more`/`less` | 分页查看文件内容                         |
| `echo`        | 打印文本或变量                           |
| `grep`        | 文本搜索                                 |
| `find`        | 查找文件                                 |
| `chmod`       | 修改权限                                 |
| `chown`       | 修改文件所有者                           |
| `df`          | 查看磁盘使用情况                         |
| `du`          | 查看文件/目录大小                        |
| `top`         | 实时查看系统资源                         |
| `ps`          | 查看进程信息                             |
| `kill`        | 终止进程                                 |
| `man`         | 查看命令手册                             |
| `tar`         | 打包解包文件                             |
| `zip`/`unzip` | 压缩/解压缩文件，`-r` 了才会递归压缩目录 |
| `ssh`         | 远程登录                                 |
| `scp`         | 远程复制文件                             |
| `sudo`        | 以管理员权限执行命令                     |
| `apt`/`yum`   | 安装/管理软件包（视发行版而定）          |
| `whoami`      | 显示当前用户名                           |
| `uname -a`    | 查看系统信息                             |
| `reboot`      | 重启系统                                 |
| `shutdown`    | 关机                                     |



### tar

#### 用法

```shell
tar <参数> <压缩后文件名> <压缩前文件/文件夹>
```



#### 后缀说明

| 格式                | 说明                 |
| ------------------- | -------------------- |
| `.tar`              | 打包但不压缩（归档） |
| `.tar.gz` 或 `.tgz` | 打包 + gzip 压缩     |
| `.tar.xz`           | 打包 + xz 压缩       |



#### 参数

| 参数 | 含义                   |
| ---- | ---------------------- |
| `-c` | 创建归档               |
| `-x` | 解开归档               |
| `-v` | 显示详细信息           |
| `-f` | 后面跟归档文件名       |
| `-z` | 使用 gzip 压缩/解压    |
| `-J` | 使用 xz 压缩/解压      |
| -t   | 列出内容，不会真正解压 |

注意：`-f` 必须要最后一个，因为其后面紧跟归档文件名，与 `g++` 的 `-o` 同理。

注意：tar 解压是“**直接覆盖**”的！当 tar 和当前目录下已有的文件/目录重名，tar 会默认直接覆盖已有文件，目录结构会合并，已有的目录内容可能保留，但同名文件会被覆盖，**这些操作不会向用户确认**。所以解压 tar 包的时候**建议先 `-t` 看看解包内容**，或者先到空目录操作，然后 `mv -i` 到目标位置。



#### 例子

**打包**

```shell
tar -cvf game.tar game/
tar -czvf game.tar.gz game/
tar -cJvf game.tar.gz game/
```

**解压**

```shell
tar -xzvf game.tar.gz
```



### grep

`grep`（**Global Regular Expression Print**）是 Linux/Unix 系统中一个强大的**文本搜索工具**，用于在文件或输入流中查找匹配指定模式（字符串或正则表达式）的行，通过和管道符配合使用，如：

```shell
ls | grep \.cpp
```

就能列出 ls 输出的文件中，所有文件名包含 `.cpp` 的文件。



#### 参数

| 参数 | 含义                          |
| ---- | ----------------------------- |
| `-i` | 不区分大小写（--ignore-case） |







### 修改主机名

```shell
sudo hostnamectl set-hostname <新主机名>
```



### 修改 IP 地址

```shell
vim /etc/sysconfig/network-scripts/<网络配置文件名，如：ifcfg-ens33>
```

改完后执行：

```shell
执service network restart
```





## vim

### 文件操作

退出 `:q`

强制退出 `:q!`

保存 `:w`

保存并退出 `:wq`

撤销：`普通模式`下 `u`

恢复到当前行的原始状态：`普通模式`下 `U`

还原：`Ctrl` + `R`

复制：`视觉模式`下 `y`，`普通模式`下 `yy` 赋值当前行



### 模式切换

Esc: 退出当前模式

i: 插入模式

v: 视觉模式



### 普通模式

以 vim 打开时就直接进入一般模式了（这是默认的模式）。在这个模式中， 你可以使用『上下左右』或『J, K, H, L』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、粘贴、撤销』来处理你的文件数据。

|语法      |功能描述                      |
| --------- | ----------------------------- |
|yy (yank)        |复制光标当前一行              |
|y <数字> y    |复制一段（从第几行到第几行）  |
|p (put)         |在箭头行下一行粘贴            |
|u（undo） |撤销上一步                    |
|dd        |删除光标当前行                |
|d <数字> d    |删除光标（含）后多少行        |
|x         |删除一个字母，相当于del       |
|X（大写 x)         |删除一个字母，相当于Backspace |
|yw        |复制一个词                    |
|dw        |删除一个词                    |
|shift + ^   |移动到行头                    |
|shift + $   |移动到行尾                    |
|<数字> shift + g |移动到对应行，输入 1 就是页首              |
|shift + g   |移动到页尾                    |





## WSL

列出所有的 WSL 实例，并显示它们的状态、版本（WSL 1 或 WSL 2）等信息:

```shell
wsl -l -v
```



关闭所有虚拟机

```shell
wsl --shutdown
```



启动代理

```shell
wsl.exe -d wsl-vpnkit --cd /app wsl-vpnkit
```



WSL 中将文件/命令结果输出到 windows 剪切板

```shell
cat <filename> | clip.exe
echo "Hello from WSL" | clip.exe
```



## KDE 桌面

更改缩放比例（相当于除以一个数，注意中间用 `x` 而非 `*` 分隔)

```shell
xrandr --output <显示器名称> --scale <横向倍率>x<纵向倍率>
xrandr --output Virtual1  --scale 0.6x0.6
```

​	